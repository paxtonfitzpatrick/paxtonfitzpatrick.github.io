{"version":3,"names":["TimelineEvent","constructor","eventListItem","timeline","this","info","innerText","trim","startYear","parseFloat","dataset","start","endYear","end","color","xCoord","drawEventLine","ctx","canvas","context","eventWidth","style","yearsYCoords","beginPath","lineWidth","strokeStyle","lineCap","moveTo","lineTo","stroke","drawInfo","infoLayout","infoLineWidth","fillStyle","infoFontColor","textBaseline","textAlign","alignment","lineJoin","lineArr","forEach","line","lineIndex","fillText","underlineY","infoUnderlineOffset","infoLineHeight","length","infoLineStartY","infoYOffset","Math","floor","underlineX","computeInfoLayout","infoWords","split","lineWidths","infoMaxWidth","currentLine","currentLineWidth","measureText","width","centerXCoord","infoRightXCoord","currentWidth","yearXOffset","infoLeftXCoord","slice","nextWord","withNextWord","widthWithNextWord","endsWith","push","max","Timeline","timelineElement","clientWidth","currentHeight","clientHeight","parseInt","initCanvas","getStyles","parseEvents","precomputeStaticValues","computeBaseLayout","computeEventLayout","drawBase","drawEvents","adjustEventInfo","eventsInfoLayouts","sameSideInfoLayouts","filter","eventInfo","prevEventIx","infoTopY","prevEventInfo","infoMinPaddingY","toMove","prevInfoTopY","topY","verticalPadding","yInc","occupiedGrid","year","yearY","Array","events","fill","occupedGrid","round","eventColXCoords","columnOffset","offsetX","eventOffset","eventXCoords","event","firstOpenCol","indexOf","min","infoXOffset","yearColor","font","yearFontSize","gridlineColor","gridlineWidth","Object","entries","yearString","yCoord","Number","isInteger","infoFontSize","ix","compStyles","getComputedStyle","backgroundColor","getPropertyValue","backgroundAlpha","yearAlpha","gridlineAlpha","infoFontAlpha","hexToRGBA","canvasElement","document","createElement","className","height","appendChild","element","getContext","onResize","newWidth","newHeight","clearRect","eventsList","getElementsByTagName","prototype","call","eventLi","hex","opacity","tempHex","replace","substring","getElementById","window","addEventListener","timelineObj"],"sources":["timeline.js"],"mappings":"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"}