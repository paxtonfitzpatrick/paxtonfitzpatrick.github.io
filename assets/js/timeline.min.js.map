{"version":3,"names":["TimelineDisplayer","tag_id","timeline_el","canvas","this","timelineObj","el","curr_height","height","curr_width","width","offsetHeight","start_year","parseInt","dataset","start","end_year","end","years_ycoords","occupied_grid","events","style","functions","timeline","utils","TL","init","ctx","getContext","getStyle","computeTimelineLayout","top_y","vertical_padding","bottom_y","parseEvents","y_inc","year","year_y","Math","floor","Array","length","fill","compStyles","getComputedStyle","getPropertyValue","year_fontsize","trim","gridline_width","event_width","event_offset","info_line_width","info_x_offset","info_y_offset","parseFloat","info_fontsize","background_color","background_alpha","year_color","year_alpha","gridline_color","gridline_alpha","info_font_color","info_font_alpha","hexToRGBA","computeEventLayout","event_col_xcoords","center_x","offset_n","total_offset","push","event_n","event","first_open_col","indexOf","x_coord","drawBase","beginPath","fillStyle","textAlign","font","strokeStyle","lineWidth","gridline_x_offset","measureText","text_y_offset","getTextLineHeight","year_str","Number","isInteger","fillText","moveTo","lineTo","stroke","TimelineEvent","event_li","info","id","replace","color","prototype","draw","lineCap","drawInfo","info_left_xcoord","min","apply","map","ev","info_right_xcoord","max","textBaseline","info_layout","formatInfoLayout","alignment","line_ix","line_arr","x","line_height","line_start_y","underline_x","text_max_width","text_layout","words","split","curr_line","next_word","slice","with_next_word","endsWith","line","events_list","document","querySelector","getElementsByTagName","onResize","new_height","clientHeight","clearRect","clientWidth","hex","opacity","tempHex","substring","text","metrics","actualBoundingBoxAscent","launch","window","addEventListener","timelineDom","timelineDisplay","getElementById","canvas_el","createElement","className","position","appendChild"],"sources":["timeline.js"],"mappings":"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"}